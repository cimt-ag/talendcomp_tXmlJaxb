<?xml version="1.0" encoding="UTF-8"?>

<COMPONENT>
	<HEADER 
		AUTHOR="cimt AG" 
		COMPATIBILITY="ALL"
		PLATEFORM="ALL" 
		RELEASE_DATE="201607819"
		SERIAL="" 
		STARTABLE="false" 
		STATUS="BETA" 
		VERSION="2.3">
		<SIGNATURE />
	</HEADER>

	<FAMILIES>
		<FAMILY>XML</FAMILY>
	</FAMILIES>

	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>

	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MIN_INPUT="0" MAX_INPUT="1"
			MIN_OUTPUT="0" MAX_OUTPUT="1" />
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="1" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK" />
		<CONNECTOR CTYPE="COMPONENT_ERROR" />
		<CONNECTOR CTYPE="RUN_IF" />
	</CONNECTORS>

	<PARAMETERS>

		<PARAMETER 
			NAME="IS_ROOT" 
			FIELD="CHECK" 
			NUM_ROW="10"
			REQUIRED="true"
		>
			<DEFAULT>true</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="CLASS_NAME" 
			FIELD="TEXT" 
			REQUIRED="true" 
			NUM_ROW="15"
		>
			<DEFAULT>"org.example.Customer"</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="CREATE_OBJECT_ONCE" 
			FIELD="CHECK" 
			REQUIRED="true" 
			NUM_ROW="17"
			SHOW_IF="IS_ROOT == 'false'"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>


		<PARAMETER 
			NAME="PARENT_OBJECT_COMPONENT" 
			FIELD="COMPONENT_LIST" 
			NUM_ROW="20"
			FILTER="REGEXP:^(tXmlJaxbObjectOutput)(.)*"
			REQUIRED="true"
			SHOW_IF="IS_ROOT == 'false'"
		/>

		<PARAMETER 
			NAME="AUTOMATIC_PARENT_CHILD_RELATIONS" 
			FIELD="CHECK" 
			NUM_ROW="30"
			REQUIRED="true"
			SHOW_IF="IS_ROOT == 'false'"
		>
			<DEFAULT>true</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="PARENT_KEY_COLUMN" 
			FIELD="PREV_COLUMN_LIST"
			REQUIRED="true" 
			NUM_ROW="30"
			SHOW_IF="(AUTOMATIC_PARENT_CHILD_RELATIONS == 'true') and (IS_ROOT == 'false')"
		>
		</PARAMETER>

		<PARAMETER 
			NAME="FAIL_IF_PARENT_DOES_NOT_EXISTS" 
			FIELD="CHECK" 
			NUM_ROW="30"
			REQUIRED="true"
			SHOW_IF="(AUTOMATIC_PARENT_CHILD_RELATIONS == 'true') and (IS_ROOT == 'false')"
		>
			<DEFAULT>true</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			FIELD="LABEL"
			COLOR="0;0;0"
			NAME="AUTOMATIC_PARENT_CHILD_RELATIONS_NOTE1" 
			NUM_ROW="31" 
			REQUIRED="true" 
			SHOW_IF="(AUTOMATIC_PARENT_CHILD_RELATIONS == 'false') and (IS_ROOT == 'false')"
		>
			<DEFAULT>Take care you run this flow within an iteration starting from the parent component.</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			FIELD="LABEL"
			COLOR="0;0;0"
			NAME="AUTOMATIC_PARENT_CHILD_RELATIONS_NOTE2" 
			NUM_ROW="31" 
			REQUIRED="true" 
			SHOW_IF="(AUTOMATIC_PARENT_CHILD_RELATIONS == 'true') and (IS_ROOT == 'false')"
		>
			<DEFAULT>If the parent is the root, this automatic assignment does not use the parent key, because the parent is a singleton.</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="COLUMN_CONFIG" 
			FIELD="TABLE" 
			NUM_ROW="40" 
			NB_LINES="5" >
			<ITEMS BASED_ON_SCHEMA="true">
				<ITEM NAME="ATTRIBUTE_ALIAS" FIELD="TEXT" />
				<ITEM NAME="USE" FIELD="CHECK" />
				<ITEM NAME="IGNORE_MISSING" FIELD="CHECK" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER 
			NAME="SCHEMA" 
			FIELD="SCHEMA_TYPE" 
			REQUIRED="true" 
			NUM_ROW="50">
			<DEFAULT />
		</PARAMETER>

	</PARAMETERS>
	
	<ADVANCED_PARAMETERS>
		
	</ADVANCED_PARAMETERS>

	<CODEGENERATION>
		<IMPORTS>
			<IMPORT NAME="de.cimt.talendcomp.xmldynamic" MODULE="cimt-talendcomp-xmldynamic-2.3.jar" REQUIRED="true" />
		</IMPORTS>		
	</CODEGENERATION>
	
	<RETURNS>
		<RETURN AVAILABILITY="AFTER" NAME="NB_LINE" TYPE="id_Integer" />
		<RETURN AVAILABILITY="FLOW" NAME="CURRENT_OBJECT" TYPE="id_Object" />
		<RETURN AVAILABILITY="AFTER" NAME="KEYS_AS_SQL_IN_CLAUSE" TYPE="id_String" />
	</RETURNS>
	
</COMPONENT>